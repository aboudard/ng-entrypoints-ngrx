"use strict";(self.webpackChunkrefapp=self.webpackChunkrefapp||[]).push([[638],{638:(x,p,s)=>{s.r(p),s.d(p,{OrdersComponent:()=>g,OrdersModule:()=>I,OrdersService:()=>D,StoreOrdersModule:()=>U,getOrders:()=>i,initialState:()=>v,loadOrders:()=>l,ordersFeatureKey:()=>f,reducer:()=>M,selectOrders:()=>h,selectOrdersCount:()=>T,selectOrdersState:()=>O});var r=s(5879),a=s(6814),n=s(4221),u=s(9945),E=s(8978),P=s(2096),y=s(6232),d=s(7483),m=s(4664),C=s(7398),A=s(6306);const L=function(e){return["/order",e]};function F(e,_){if(1&e&&(r.TgZ(0,"li")(1,"a",1),r._uU(2),r.qZA()()),2&e){const o=_.$implicit;r.xp6(1),r.Q6J("routerLink",r.VKq(2,L,o.id)),r.xp6(1),r.Oqu(o.orderNumber)}}const i=(0,n.PH)("[Orders] Get Orders"),l=(0,n.PH)("[Orders] Load Orders",(0,n.Ky)()),f="orderstore",v={orders:[]},M=(0,n.Lq)(v,(0,n.on)(l,(e,{orders:_})=>({...e,orders:_}))),O=(0,n.ZF)(f),h=(0,n.P1)(O,e=>e.orders),T=(0,n.P1)(O,e=>e.orders.length);let g=(()=>{class e{constructor(o,t){this.store=o,this.coreService=t,this.orders$=this.store.select(h),this.info$=this.coreService.getInfo()}ngOnInit(){this.store.dispatch(i())}static#e=this.\u0275fac=function(t){return new(t||e)(r.Y36(n.yh),r.Y36(E.NgCoreService))};static#r=this.\u0275cmp=r.Xpm({type:e,selectors:[["lib-orders"]],standalone:!0,features:[r.jDz],decls:9,vars:6,consts:[[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,c){1&t&&(r.TgZ(0,"div")(1,"p"),r._uU(2,"orders works !"),r.qZA(),r.TgZ(3,"ul"),r.YNc(4,F,3,4,"li",0),r.ALo(5,"async"),r.qZA(),r.TgZ(6,"p"),r._uU(7),r.ALo(8,"async"),r.qZA()()),2&t&&(r.xp6(4),r.Q6J("ngForOf",r.lcZ(5,2,c.orders$)),r.xp6(3),r.hij("Info from Core : ",r.lcZ(8,4,c.info$),""))},dependencies:[a.ax,u.rH,a.Ov],styles:["div[_ngcontent-%COMP%]{color:#562a80;border:1px solid rgb(86,42,128);background:#e9dcf5;border-radius:5px;padding:.5rem}"]})}return e})();const B=[{path:"",component:g,title:"Orders"}];let K=(()=>{class e{static#e=this.\u0275fac=function(t){return new(t||e)};static#r=this.\u0275mod=r.oAB({type:e});static#t=this.\u0275inj=r.cJS({imports:[u.Bz.forChild(B),u.Bz]})}return e})(),I=(()=>{class e{static#e=this.\u0275fac=function(t){return new(t||e)};static#r=this.\u0275mod=r.oAB({type:e});static#t=this.\u0275inj=r.cJS({imports:[a.ez,K]})}return e})(),D=(()=>{class e{constructor(){}getOrders(){return(0,P.of)([{id:1,orderNumber:"123",orderDate:new Date},{id:2,orderNumber:"456",orderDate:new Date}])}static#e=this.\u0275fac=function(t){return new(t||e)};static#r=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),S=(()=>{class e{constructor(o,t){this.actions$=o,this.ordersService=t,this.loadOrders$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(i),(0,m.w)(()=>this.ordersService.getOrders().pipe((0,C.U)(c=>l({orders:c})),(0,A.K)(()=>y.E)))))}static#e=this.\u0275fac=function(t){return new(t||e)(r.LFG(d.eX),r.LFG(D))};static#r=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac})}return e})(),U=(()=>{class e{constructor(o){this.store=o,this.store.dispatch(i()),console.log("OrdersModule loaded")}static#e=this.\u0275fac=function(t){return new(t||e)(r.LFG(n.yh))};static#r=this.\u0275mod=r.oAB({type:e});static#t=this.\u0275inj=r.cJS({imports:[n.Aw.forFeature(f,M),d.sQ.forFeature([S])]})}return e})()}}]);